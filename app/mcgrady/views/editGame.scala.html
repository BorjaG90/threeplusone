@(id: Long, gameForm: Form[mcgrady.model.Game], players: Seq[mcgrady.model.Player], inscriptions: Seq[mcgrady.model.Inscription],arenas: Seq[mcgrady.model.Arena],teams: Seq[mcgrady.model.Team])(implicit flash: play.api.mvc.Flash,request: RequestHeader,messages : Messages)

@import helper._

@main(Messages("game.title")){

<form id="game-data-form" role="form" action=@mcgrady.controllers.routes.GameController.update(id) method="post" autocomplete="off">
    <fieldset >
        <label>Partidos</label>
        <br/>
        <table align="center">
            <tr>
                <th>Fecha</th>
                <th>Anfitrión</th>
                <th>Visitante</th>
                <th>Estadio</th>
                <th>Ganador</th>
                <th>MVP</th>
                <th>Descripción</th>
            </tr>
            <tr>
                <td align="center">
                    @defining(gameForm("date").value){ dateValue=>
                        @if(dateValue != None){
                    <input type="date" id="date" name="date" step="1" min="2000-01-01" max="2050-12-31" value="@dateValue.get">
                        }else{
                    <input type="date" id="date" name="date" step="1" min="2000-01-01" max="2050-12-31" value="">
                        }
                    }
                </td>
                <td>
                    @defining(gameForm("id_home").value) { homeValue=>
                    <select id="id_home" name="id_home">
                        @for(inscription <- inscriptions){
                            @if(homeValue != None && inscription.id.get == homeValue.get.toLong){
                                @for(team <- teams){
                                    @if(inscription.idTeam == team.id.get){
                        <option selected="selected" value="@inscription.id">@team.name</option>
                                    }
                                }
                            }else{
                                @for(team <- teams){
                                    @if(inscription.idTeam == team.id.get){
                        <option value="@inscription.id">@team.name</option>
                                    }
                                }
                            }
                        }
                    </select>
                    }
                </td>
                <td>
                    @defining(gameForm("id_visitor").value) { visitorValue=>
                    <select id="id_visitor" name="id_visitor">
                        @for(inscription <- inscriptions){
                            @if(visitorValue != None && inscription.id.get == visitorValue.get.toLong){
                                @for(team <- teams){
                                    @if(inscription.idTeam == team.id.get){
                        <option selected="selected" value="@inscription.id">@team.name</option>
                                    }
                                }
                            }else{
                                @for(team <- teams){
                                    @if(inscription.idTeam == team.id.get){
                        <option value="@inscription.id">@team.name</option>
                                    }
                                }
                            }
                        }
                    </select>
                    }
                </td>
                <td>
                    @defining(gameForm("id_arena").value) { arenaValue=>
                    <select id="id_arena" name="id_arena">
                        @for(arena <- arenas){
                            @if(arenaValue != None && arena.id.get == arenaValue.get.toLong){
                        <option selected="selected" value="@arena.id">@arena.name</option>
                            }else{
                        <option value="@arena.id">@arena.name</option>
                            }
                        }
                    </select>
                    }
                </td>
                <td>
                    @defining(gameForm("winner").value) { winnerValue=>
                        @if("H" == winnerValue.toString){
                    <input type="radio" id="winner1" name="winner" value="H" checked>Anfitrión<br>
                    <input type="radio" id="winner2" name="winner" value="A">Visitante<br>
                        }else{ @if("V" == winnerValue.toString){
                    <input type="radio" id="winner1" name="winner" value="H">Anfitrión<br>
                    <input type="radio" id="winner2" name="winner" value="A" checked>Visitante<br>
                        }else{
                    <input type="radio" id="winner1" name="winner" value="H">Anfitrión<br>
                    <input type="radio" id="winner2" name="winner" value="A">Visitante<br>
                        }}
                    }
                </td>
                <td>
                    @defining(gameForm("mvp").value) { playerValue=>
                    <select id="mvp" name="mvp">
                        @for(player <- players){
                            @if(playerValue != None && player.id.get == playerValue.get.toLong){
                        <option selected="selected" value="@player.id">@player.firstName @player.lastName</option>
                            }else{
                        <option value="@player.id">@player.firstName @player.lastName</option>
                            }
                        }
                    </select>
                    }
                </td>
                <td align="center">
                    @defining(gameForm("description").value){ descriptionValue=>
                    <input type="text" id="description" name="description" value="@descriptionValue">
                    }
                </td>
            </tr>
        </table>
        <br/>
        <div>
            <button type="submit" class="btn btn-primary ynt-btn-orange">Guardar Partido</button> o
            <a href=@mcgrady.controllers.routes.GameController.list() class="btn">Cancelar</a>
        </div>
    </fieldset>
</form>

@form(mcgrady.controllers.routes.GameController.delete(Some(id)), 'class -> "topRight") {
<input type="submit" value="Eliminar Partido" class="btn danger">
}

}
