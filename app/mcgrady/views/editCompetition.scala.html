@(id: Long, competitionForm: Form[mcgrady.model.Competition], countries: Seq[mcgrady.model.Country], seasons: Seq[mcgrady.model.Season])(implicit flash: play.api.mvc.Flash,request: RequestHeader,messages : Messages)

@import helper._

@main(Messages("competition.title")){
<form id="competition-data-form" role="form" action=@mcgrady.controllers.routes.CompetitionController.update(id) method="post" autocomplete="off">
    <fieldset >
        <label>Editar Competición</label>
        <br/>
        <table align="center">
            <tr>
                <th>Temporada <a href=@mcgrady.controllers.routes.SeasonController.add() class="btn">+</a></th>
                <th>Nombre</th>
                <th>Abreviatura</th>
                <th>División</th>
                <th>País</th>
            </tr>
            <tr>
                <td>
                    @defining(competitionForm("id_season").value) { seasonValue=>
                    <select id="id_season" name="id_season">
                        @for(season <- seasons){
                            @if(seasonValue != None && season.id.get == seasonValue.get.toLong){
                        <option selected="selected" value="@season.id">@season.year</option>
                            }else{
                        <option value="@season.id">@season.year</option>
                            }
                        }
                    </select>
                    }
                </td>
                <td>
                    @defining(competitionForm("name").value){ nameValue=>
                    <input type="text" id="name" name="name" value="@nameValue" placeholder="Nombre" required>
                    }
                </td>
                <td>
                    @defining(competitionForm("abbreviation").value){ abbreviationValue=>
                    <input type="text" id="abbreviation" name="abbreviation" value="@abbreviationValue" placeholder="Abreviatura" required>
                    }
                </td>
                <td align="center">
                    @defining(competitionForm("division").value){ divisionValue=>
                    <input type="text" id="division" name="division"  value="@divisionValue">
                    }
                </td>
                <td>
                    @defining(competitionForm("id_country").value) { countryValue=>
                    <select id="id_country" name="id_country">
                        @for(country <- countries){
                            @if(country.id == countryValue.get.toLong){
                        <option selected="selected" value="@country.id">@country.name</option>
                            }else{
                        <option value="@country.id">@country.name</option>
                            }
                        }
                    </select>
                    }
                </td>
            </tr>
            <tr>
                <th>Descripción</th>
                <th>Tipo</th>
                <th>Inicio</th>
                <th>Fin</th>
            </tr>

            <tr>
                <td align="center">
                    @defining(competitionForm("description").value){ descriptionValue=>
                    <input type="text" id="description" name="description"  value="@descriptionValue">
                    }
                </td>
                <td align="center">
                    @defining(competitionForm("type").value){ typeValue=>
                    <input type="text" id="type" name="type"  value="@typeValue" required>
                    }
                </td>
                <td align="center">
                    @defining(competitionForm("init_date").value){ initDateValue=>
                    <input type="date" id="init_date" name="init_date"  value="@initDateValue">
                    }
                </td>
                <td align="center">
                    @defining(competitionForm("end_date").value){ endDateValue=>
                    <input type="date" id="end_date" name="end_date"  value="@endDateValue">
                    }
                </td>
            </tr>
        </table>
        <br/>
        <div>
            <button type="submit" class="btn btn-primary ynt-btn-orange">Guardar Competicion</button> o
            <a href=@mcgrady.controllers.routes.CompetitionController.list() class="btn">Cancelar</a>
        </div>
    </fieldset>
</form>

@form(mcgrady.controllers.routes.CompetitionController.delete(Some(id)), 'class -> "topRight") {
<input type="submit" value="Eliminar Competicion" class="btn danger">
}

}